<div class="home fade-in-container">
  <div class="overlay"></div>
  <div class="container">
    <h1 class="text-center fade-item" style="animation-delay: 0.1s">Welcome to Poultry Management</h1>
    <p class="text-center pb-5 fade-item" style="animation-delay: 0.2s">Manage your poultry farm efficiently with our comprehensive tools.</p>
    <!-- ///////form //////// -->
    <div class="d-flex justify-content-center align-items-center vh-50 fade-item" style="animation-delay: 0.3s">

      <form #form="ngForm" (ngSubmit)="submitForm(form)" class="needs-validation w-100 fade-item" style="max-width: 500px; animation-delay: 0.4s" novalidate>

        <div *ngIf="successMessage" class="alert alert-success text-center fade-item" style="animation-delay: 0.5s">
          {{ successMessage }}
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger text-center fade-item" style="animation-delay: 0.6s">
          {{ errorMessage }}
        </div>

        <div class="mb-3 fade-item" style="animation-delay: 0.7s">
          <label for="validationCustomUsername" class="form-label fade-item" style="animation-delay: 0.8s">Username</label>
          <div class="input-group has-validation fade-item" style="animation-delay: 0.9s">
            <span class="input-group-text">@</span>
            <input
             type="text"
             class="form-control"
             name="username"
             [(ngModel)]="user.username"
             #username="ngModel"
             [ngClass]="{ 'is-invalid': username.invalid && username.touched, 'is-valid': username.valid}"
             required
            />
            <div *ngIf="username.invalid && username.touched" class="invalid-feedback">Invalid username.</div>
          </div>
        </div>
        <!-- ----password ---  -->
        <div class="mb-3 fade-item" style="animation-delay: 1s">
          <label for="validationCustom02" class="form-label fade-item" style="animation-delay: 1.1s">password</label>
          <input
           type="password"
           class="form-control"
           placeholder="abcdAb12"
           name="password"
           [(ngModel)]="user.password"
           #password="ngModel"
           pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
           [ngClass]="{ 'is-invalid': password.invalid && password.touched, 'is-valid': password.valid}"
           required
          />
          <div *ngIf="password.errors?.['pattern'] || password.invalid && password.touched" class="invalid-feedback">Invalid password!</div>
        </div>

        <button class="btn btn-primary w-100 fade-item" type="submit" [disabled]="form.invalid" style="animation-delay: 1.2s">
          <!-- {{ isLoading ? 'Validating...' : 'Login form'}} -->
          <ng-container *ngIf="!isLoading; else loginTpl">Login form</ng-container>
          <ng-template #loginTpl>
              <span class="spinner-grow spinner-grow-sm me-2" aria-hidden="true"></span>
              Validating...
          </ng-template>
        </button>
          <div class="row">
            <div class="mb-3">
            <!-- navigate to login if you have an account  -->
            <div class="text-center mt-3 fade-item" style="animation-delay: 1.3s">
              <p>Don't have an account? <a class="shadow-login" routerLink="/register">Register here</a></p>
            </div> 
          </div>
        </div>
      </form>

    </div>

  </div>
</div>